{"version":3,"sources":["../../../src/api/login/index.js"],"names":["config","db","api","post","req","res","login","body","password","STATUS_UNAUTHORIZED","then","apiResponse","json","apiId","catch","apiError","console","log","message","data","status","send"],"mappings":";;;;;;AAAA;;AACA;;;;;;kBAEe,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AAClC,MAAIC,MAAM,sBAAV;;AAEA;AACAA,MAAIC,IAAJ,CAAS,GAAT,EAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzB,QAAMC,QAAQF,IAAIG,IAAJ,CAASD,KAAvB;AACA,QAAME,WAAWJ,IAAIG,IAAJ,CAASC,QAA1B;AACA,QAAMC,sBAAsB,GAA5B;;AAEA,2BAAQH,KAAR,EAAeE,QAAf,EAAyBE,IAAzB,CAA+B,UAACC,WAAD,EAAiB;AAC9CN,UAAIO,IAAJ,CAAS;AACLC,eAAOA;AADF,OAAT;AAGD,KAJD,EAIGC,KAJH,CAIS,UAACC,QAAD,EAAc;AACrBC,cAAQC,GAAR,CAAYF,SAASG,OAArB,EAA8BH,SAASI,IAAvC;AACAd,UAAIe,MAAJ,CAAWX,mBAAX,EAAgCY,IAAhC,CAAqCN,SAASG,OAA9C;AACD,KAPD;AAQF,GAbD;;AAeA,SAAOhB,GAAP;AACA,C","file":"index.js","sourcesContent":["import { Router } from 'express';\nimport Service from './service'\n\nexport default ({ config, db }) => {\n\tlet api = Router();\n\n\t// perhaps expose some API metadata at the root\n\tapi.post('/', (req, res) => {\n    const login = req.body.login\n    const password = req.body.password\n    const STATUS_UNAUTHORIZED = 401\n\n    Service(login, password).then( (apiResponse) => {\n      res.json({\n          apiId: apiId\n      })\n    }).catch((apiError) => {\n      console.log(apiError.message, apiError.data)\n      res.status(STATUS_UNAUTHORIZED).send(apiError.message)\n    })\n\t});\n\n\treturn api;\n}\n"]}