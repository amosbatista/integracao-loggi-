{"version":3,"sources":["../../src/api/index.js"],"names":["config","db","process","env","NODE_TLS_REJECT_UNAUTHORIZED","api","noResponseCode","use","console","log","post","req","res","status","send","get"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;;;kBAEe,gBAAoB;AAAA,KAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,KAATC,EAAS,QAATA,EAAS;;AAClCC,SAAQC,GAAR,CAAYC,4BAAZ,GAA2C,GAA3C;AACA,KAAIC,MAAM,sBAAV;AACA,KAAMC,iBAAiB,GAAvB;;AAEAD,KAAIE,GAAJ,CAAQ,UAAR,EAAoB,qBAAQ,EAAEP,cAAF,EAAUC,MAAV,EAAR,CAApB;AACAI,KAAIE,GAAJ,CAAQ,UAAR,EAAoB,qBAAQ,EAAEP,cAAF,EAAUC,MAAV,EAAR,CAApB;;AAEAO,SAAQC,GAAR,CAAY,mBAAZ;;AAEA;AACAJ,KAAIK,IAAJ,CAAS,GAAT,EAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3BA,MAAIC,MAAJ,CAAWP,cAAX,EAA2BQ,IAA3B,CAAgC,oBAAhC;AACA,EAFD;;AAIAT,KAAIU,GAAJ,CAAQ,GAAR,EAAa,UAACJ,GAAD,EAAMC,GAAN,EAAc;AAC1BA,MAAIC,MAAJ,CAAWP,cAAX,EAA2BQ,IAA3B,CAAgC,mBAAhC;AACA,EAFD;;AAIA,QAAOT,GAAP;AACA,C","file":"index.js","sourcesContent":["import { Router } from 'express';\nimport confirm from './purchase/confirm/index';\nimport approve from './purchase/approve/index';\n\nexport default ({ config, db }) => {\n\tprocess.env.NODE_TLS_REJECT_UNAUTHORIZED = '0';\n\tlet api = Router();\n\tconst noResponseCode = 501\n\n\tapi.use('/confirm', confirm({ config, db }));\n\tapi.use('/approve', approve({ config, db }));\n\n\tconsole.log('setting api route')\n\n\t// perhaps expose some API metadata at the root\n\tapi.post('/', (req, res) => {\n\t\tres.status(noResponseCode).send('empty post request')\n\t});\n\n\tapi.get('/', (req, res) => {\n\t\tres.status(noResponseCode).send('empty get request')\n\t});\n\n\treturn api;\n}\n"]}